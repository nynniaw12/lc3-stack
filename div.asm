.orig x3000
LD R6, STACK
DIV
ADD R1, R1, #0
BRz ERROR
ADD R6, R6, #-1
STR R2, R6, #0
AND R2, R2, #0
ADD R6, R6, #-1
STR R1, R6, #0
NOT R1, R1
ADD R1, R1, #1
CONTINUE
ADD R0, R0, R1
BRn NEG
BRz DONE
ADD R2, R2, #1
BR CONTINUE
NEG
LDR R1, R6, #0
ADD R0, R0, R1
DONE
ADD R1, R2, #0
ADD R6, R6, #1
STR R2, R6, #0
ADD R6, R6, #1
RET
ERROR
AND R1, R1, #0
ADD R0, R0, #0
RET
.end
STACK
.FILL x4000
