.orig x3000
LD R6, STACK
MULT
ADD R6, R6, #-1
STR R3, R6, #-1
AND R3, R3, #0
ADD R0, R0, #0 
BRzp CONTINUE
ADD R3, R3, #1
NOT R0, R0
ADD R0, R0, #1
CONTINUE
BRz DONE
ADD R1, R1, R1
ADD R0, R0, #-1
BR CONTINUE
DONE
ADD R3, R3, #0
BRz RETURN
NOT R1, R1, #0
ADD R1, R1, #1
ADD R0, R1, #0
RETURN
LDR R3, R6, #0
ADD R6, R6, #1
RET
STACK
.FILL x4000
